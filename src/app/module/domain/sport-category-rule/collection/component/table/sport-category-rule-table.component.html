<section
  class="sport-category-rule-table"
  *ngIf="entityTableViewModel$ | async as entityTableViewModel"
>
  <p-table
    [value]="entityTableViewModel.entities"
    sortField="name"
    sortMode="multiple"
    styleClass="p-datatable-striped p-datatable-sm"
    responsiveLayout="scroll"
    [paginator]="false"
    [rows]="10"
  >
    <ng-template pTemplate="header">
      <tr>
        <th rowspan="2" pSortableColumn="name">
          Name <p-sortIcon field="name"></p-sortIcon>
        </th>

        <th colspan="3">Period</th>

        <th colspan="2">Participant</th>
      </tr>

      <tr>
        <th pSortableColumn="periodWinningsSize">
          Winning size <p-sortIcon field="periodWinningSize"></p-sortIcon>
        </th>

        <th pSortableColumn="periodType">
          Type <p-sortIcon field="periodType"></p-sortIcon>
        </th>

        <th pSortableColumn="periodTypeWinningsSize">
          Type winning size <p-sortIcon field="periodTypeWinningSize"></p-sortIcon>
        </th>

        <th pSortableColumn="participantType">
          Type <p-sortIcon field="participantType"></p-sortIcon>
        </th>

        <th pSortableColumn="participantSize">
          Size <p-sortIcon field="participantSize"></p-sortIcon>
        </th>

        <th>Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-entity>
      <tr class="data-row-sub">
        <td>{{ entity.name }}</td>

        <td>{{ entity.periodType }}</td>

        <td>{{ entity.periodWinningSize }}</td>

        <td>{{ entity.periodTypeWinningSize }}</td>

        <td>{{ entity.participantType }}</td>

        <td>{{ entity.participantSize }}</td>

        <td>
          <ng-template
            [ngxPermissionsOnly]="entityTableViewModel.buttonPermissions"
          >
            <button
              pButton
              pRipple
              icon="pi pi-pencil"
              class="p-button-rounded p-button-success mr-2"
              (click)="entityTableViewModel.editEntity$$.next(entity)"
            ></button>
          </ng-template>
        </td>
      </tr>
    </ng-template>
  </p-table>
</section>
